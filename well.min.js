!function(){"use strict";var t,n,e=function(){},i=Object.keys,r=Object.prototype,o=r.hasOwnProperty,s=r.toString,u=(Function.prototype.bind,function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)};case 4:return function(e,i,r,o){return t.call(n,e,i,r,o)}}return function(){return t.apply(n,arguments)}});e.prototype.iteratee=function(t,n,e){return this.isFunction(t)?u(t,n,e):this.isObject(t)?this.matches(t):this.property(t)},e.prototype.matches=function(t){var n=this.pairs(t),e=n.length;return function(t){if(null==t)return!e;t=new Object(t);for(var i=0;e>i;i++){var r=n[i],o=r[0];if(r[1]!==t[o]||!(o in t))return!1}return!0}},e.prototype.pairs=function(t){for(var n=this.keys(t),e=n.length,i=Array(e),r=0;e>r;r++)i[r]=[n[r],t[n[r]]];return i},e.prototype.property=function(t){return function(n){return n[t]}},e.prototype.isFunction=function(t){return"function"==typeof t||!1},e.prototype.each=function(t,n,e){if(null==t)return t;n=u(n,e);var i,r=t.length;if(r===+r)for(i=0;r>i;i++)n(t[i],i,t);else{var o=this.keys(t);for(i=0,r=o.length;r>i;i++)n(t[o[i]],o[i],t)}return t},e.prototype.map=function(t,n,e){if(null==t)return[];n=this.iteratee(n,e);for(var i,r=t.length!==+t.length&&this.keys(t),o=(r||t).length,s=Array(o),u=0;o>u;u++)i=r?r[u]:u,s[u]=n(t[i],i,t);return s},e.prototype.has=function(t,n){return null!=t&&o.call(t,n)},e.prototype.keys=function(t){if(!this.isObject(t))return[];if(i)return i(t);var n=[];for(var e in t)this.has(t,e)&&n.push(e);return n},e.prototype.extend=function(t){if(!this.isObject(t))return t;for(var n,e,i=1,r=arguments.length;r>i;i++){n=arguments[i];for(e in n)o.call(n,e)&&(t[e]=n[e])}return t},e.prototype.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},e.prototype.isArray=function(t){return"[object Array]"===s.call(t)},e.prototype.clone=function(t){return this.isObject(t)?this.isArray(t)?t.slice():this.extend({},t):t},e.prototype.some=function(t,n,e){if(null==t)return!1;n=this.iteratee(n,e);var i,r,o=t.length!==+t.length&&this.keys(t),s=(o||t).length;for(i=0;s>i;i++)if(r=o?o[i]:i,n(t[r],r,t))return!0;return!1},e.prototype.find=function(t,n,e){var i;return n=this.iteratee(n,e),this.some(t,function(t,e,r){return n(t,e,r)?(i=t,!0):void 0}),i},e.prototype.filter=function(t,n,e){var i=[];return null==t?i:(n=this.iteratee(n,e),this.each(t,function(t,e,r){n(t,e,r)&&i.push(t)}),i)},e.prototype.merge=function(){var t=[];return this.each(arguments,function(n){for(var e,i=n.length,r=-1;++r<i;)e=n[r],-1===t.indexOf(e)&&t.push(e)}),t},e.prototype.parseName=function(t){var n=t.split(":"),e=n[n.length-1];return n.splice(-1,1),{alias:n.join(":"),name:e}};var c=c?c:new e,a=function(){var t=function(t,n){var e,i=-1,r=t.length,o=n[0],s=n[1],u=n[2];switch(n.length){case 0:for(;++i<r;)(e=t[i]).callback.call(e.ctx);return;case 1:for(;++i<r;)(e=t[i]).callback.call(e.ctx,o);return;case 2:for(;++i<r;)(e=t[i]).callback.call(e.ctx,o,s);return;case 3:for(;++i<r;)(e=t[i]).callback.call(e.ctx,o,s,u);return;default:for(;++i<r;)(e=t[i]).callback.apply(e.ctx,n);return}};return{on:function(t,n,e){this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:n,context:e,ctx:e||this}),this},off:function(t,n,e){var i,r,o,s,u,a,h,l;if(!t&&!n&&!e)return this._events=void 0,this;for(s=t?[t]:c.keys(this._events),u=0,a=s.length;a>u;u++)if(t=s[u],o=this._events[t]){if(this._events[t]=i=[],n||e)for(h=0,l=o.length;l>h;h++)r=o[h],(n&&n!==r.callback&&n!==r.callback._callback||e&&e!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(n){if(!this._events)return this;var e=[].slice.call(arguments,1),i=this._events[n],r=this._events.all;return i&&t(i,e),r&&t(r,arguments),this}}},h=function(e,i,r){c.extend(this,{name:e,deps:[],options:{},isComplete:!0,exportsFn:function(){}});try{i.call(this,t,n)}catch(o){console.log("error in module: "+e)}this.deps.length?this.waitForDeps(r):r(this)};c.extend(h.prototype,{use:function(t,n){if(n=n||{},n.autoInit){var e=n.as||c.parseName(this._toFullName(t)).name,i={};l.add(i[this.name]={name:t,as:e})}return this.deps.push({name:this._toFullName(t),options:n}),this},set:function(t){return this.options=t||{},this},exports:function(t){return this.exportsFn=t,this},get:function(t){return this.options[t]},init:function(){return this.exportsFn.call(this.get("context")||this)},getAlias:function(){var t=this.name.split(":");return t.splice(-1,1),t.join(":")},getShorthand:function(){var t=this.name.split(":");return t.splice(-1,1)},_isShortHand:function(t){return":"===t[0]},_toFullName:function(t){if(!this._isShortHand(t))return t;var n=this.name.split(":");return n.splice(-1,1),n.join(":")+t},waitForDeps:function(e){if(t.isProduction)e(this);else{this.isComplete=!1;var i=c.map(this.deps,function(t){return t.name}),r=(c.clone(n.findMissing(i)),this);n.require(i,function(t){return t?console.log("Error in deps requiring...",t):void e(r)})}return this}});var l=new(function(){function t(){}var n={};return t.prototype.add=function(t){var e=Object.keys(t)[0];n[e]=t[e]},t.prototype.clear=function(){},t}()),f=function(e,i,r){return this.modules={},this.names=e,this.next=i,n.findMissing(e).length?(n.on("MODULE_DEFINED",this.onModuleDefined,this),t.vendorRequire(this._namesToPaths(e),function(){},function(t){i(t)})):i(r,n.pack(e))};c.extend(f.prototype,{modules:{},names:null,next:null,autoinits:[],isQueueEmpty:function(){return!this.names.length},_namesToPaths:function(n){return c.map(n,function(n){return t.transformToPath(n)},this)},runAutoInits:function(){},onModuleDefined:function(t,e){if(this.isModuleFromThisQueue(t.name)){if(this.modules[t.name]=t,this.names.splice(this.names.indexOf(t.name),1),this.isQueueEmpty()){n.off("MODULE_DEFINED",this.onModuleDefined,this);var i=c.extend(this.modules,n.getDeps(this.modules));this.runAutoInits(),this.next(e,i)}return this}},isModuleFromThisQueue:function(t){return!!c.find(this.names,function(n){return n===t})}});var p=function(){};c.extend(p.prototype,a(),{modules:{},get:function(t){return this.modules[t].exportsFn},getModule:function(t){return this.modules[t]},findBy:function(t,n){return c.find(this.modules,function(e){return e.props[t]===n},this)},filterBy:function(t,n){return t&&n?c.filter(this.modules,function(e){return e.props[t]===n},this):void 0},require:function(t,n){return new f(t,n),this},exist:function(t){return!!this.modules[t]},findMissing:function(t){return c.filter(t,function(t){return!this.exist(t)},this)},pack:function(t){var n={};return c.each(t,function(t){n[t]=this.getModule(t)},this),c.extend(n,this.getDeps(n))},getDeps:function(t){var n={};return c.each(t,function(t){c.each(t.deps,function(t){n[t]=this.getModule(t.name)},this)},this),n}});var d=function(n,e){t=this,this.isProduction=n.isProduction,this.options=n,this.name=this.options.appName||"WellApp",window[this.name]=this,window.wellDefine=this.define.bind(this),"function"==typeof define&&define.amd&&(define.amd=e),this.init()};c.extend(d.prototype,{init:function(){var t=this.options;if(c.isFunction(t.vendorRequire)&&(d.prototype.vendorRequire=t.vendorRequire),c.isFunction(t.requireConfig)&&(d.prototype.requireConfig=t.requireConfig),n=this.Modules=new p(this),this.isProduction||this.requireConfig(t),!t.strategy)return console.log("There is no application strategy defined");var e=this;this.Modules.require([t.strategy],function(n){if(n)return console.log("Error in strategy loading! ",n);var i=e.Modules.getModule(t.strategy);i.init()})},define:function(t,e){return new h(t,e,function(e){n.modules[t]=e,n.trigger("MODULE_DEFINED",e)}),this},transformToPath:function(t){return t?t.split(/(?=[A-Z])/).join("-").toLowerCase().split(":-").join("/"):t},vendorRequire:function(t,n,e){require(t,n,e)},requireConfig:function(t){return requirejs.config({urlArgs:t.cache===!1?(new Date).getTime():"",waitSeconds:60,baseUrl:t.appRoot,paths:{well:t.wellRoot,plugins:t.pluginsRoot,vendor:t.vendorRoot}}),this},transformToName:function(t){return t?(t=this.capitalize(t.replace(/^\//,"").split("/")).join(":"),this.capitalize(t.split("-")).join("")):void 0},capitalize:function(t){return c.map(t,function(t){return t.charAt(0).toUpperCase()+t.slice(1)})}}),new d(window.WellConfig||{})}();